# Code generated by genconfig. DO NOT EDIT.
language: generic
sudo: required

notifications:
  email:
    recipients:
      - secure: RUg36ZsUsNIjUokaeLH/XykeRncSb7Fdwh2RnHq8+YSWQS2FgnhtBBiKEr7+/xMW3Zw0slpCdWt1CcoMF7rsAUwgQK4rNkGadHlRYqvBjB+45paBp9duEelEOP2VTjdEPRPWyg7e8uQYqvPHEIAmz99QGhWxbVSoeJaThRycOYxs3J+Y4mVwbrEMH5H9jTwMdojKawvBKTKrodqowPPtIpFCLv4L/KqCnvhfbfFbAiM76Fb22MwEr9YYPW6oJF/rbta9KjYCYG5SiF0qXcIvXTbB2e0EEfsArklQepDaErHR28yjDMLkqHHviHtQPq4vIatWvodVfvnDIOBQEo1EF+4kHwfQm+VYsm6SLyO47sreG7j9/oBHo8kPF0KM085oFzKRRC+yGrCvG6IunfFZ2g+9On283pKD0/SIjxKCkOlLxadXI5GQKvWFGBQXACga4PdOASLY8k9Tj0HtFmCb/eRd/cHvma1/0E/LRkwDpuAmUdO0e6567O9pYuxkQYqgbzHuS9av37aw8KiunnWqCIg1NgSOoMjhsw12NDRIbHtdKvkP5Ic0HFig5HK3kRc6t7yD8aHSTqbqEMnQ2icDpTVnbZLZksp/TaUBmQRwUVdPpdS1isB+hd/vj4YQEyM/v9XKzOT50gKwUVWNDAyWs1iyAae40kS6oSvYrYSFhvM=
    on_success: always
    on_failure: always

branches:
  only:
    - master

os:
  - linux

env:
  global:
    - GO111MODULE=on
    - GOPROXY=https://proxy.golang.org
  matrix:
    - GO_VERSION="go1.12.9" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1711" VIM_COMMAND="vim"
    - GO_VERSION="go1.13" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1711" VIM_COMMAND="vim"
    - GO_VERSION="go1.12.9" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1711" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.13" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1711" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.12.9" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1991" VIM_COMMAND="vim"
    - GO_VERSION="go1.13" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1991" VIM_COMMAND="vim"
    - GO_VERSION="go1.12.9" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1991" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.13" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1991" VIM_COMMAND="xvfb-run -a gvim -f"

# Add this before_install until we have a definitive resolution on
# https://travis-ci.community/t/files-in-checkout-have-eol-changed-from-lf-to-crlf/349/2
before_install:
  - cd ../..
  - mv $TRAVIS_REPO_SLUG _old
  - git config --global core.autocrlf false
  - git clone --depth=50 _old $TRAVIS_REPO_SLUG
  - cd $TRAVIS_REPO_SLUG

before_install:
  - docker --version
  - ./_scripts/buildGovimImage.sh

script:
  - ./_scripts/runDockerRun.sh
