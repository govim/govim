# Code generated by genconfig. DO NOT EDIT.
language: generic
sudo: required

notifications:
  email:
    recipients:
      secure: "BbI4G4afPyz+xWKqx8im9y30U4lAjqM3gPF7sDEyLEHoG6IGxFopUdNFfgBnGdNYKsNEaTG58pmGUnU4fseBldndP9LVnpZNGRUASFCfOoSLoUXq3+QBpnO86Z2koAXLm3MlqygVH9si38lC1CAeWVXVSmQLIgygAtG+RbcDGrGA7Fb6IRiIJTxNipuHkUOpxFlxra1nuwTnl/ZCenCfOmigXPYTok0sDbJNW8MrbZNZ0G3ZtsBSGBoApIvF6VfV35zUVYJ5DKIx0LYrjs9muNgNzUQepPvJMMAffi4WsNiN4/FWTYtPMxo5CcwJl4twK3zbNpt6L3cBtJAEKhHYJ111ml8gC0hCnTo3YnhXnuSmTlwhKYKoF8BmJpPOUM20m2agRk1Wf1xahYGHrSraNAEUo3FXQMe82SMK0WPFHZYqjW80wDbMIVwIWOOQhG7vVNQheUkAQsv0TQSkqf4RJER2MW+ESDjwi5HGD4ZeW6Ez47Fdt2YH+/tD/bGKqXLByXPxotg+z3bwryg1WdJj6U1q4tapYexvkcpaios7Y9KO7Mxbl752VNxwp8ohQkYuXKCpXq53hWsgcE7fRzFqx+Xw8GF6O6feERjEotXY6qoch8uzmscKYf9IiDZQABIdF8ApbhPKrOSbFNIEpX8cwKLeaW6IA5T+WgYbr+U4nEo="
    on_success: never
    on_failure: always

branches:
  only:
    - master

os:
  - linux

env:
  global:
    - GO111MODULE=on
    - GOPROXY=https://proxy.golang.org
  matrix:
    - GO_VERSION="go1.12.7" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1158" VIM_COMMAND="vim"
    - GO_VERSION="go1.13beta1" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1158" VIM_COMMAND="vim"
    - GO_VERSION="go1.12.7" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1158" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.13beta1" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1158" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.12.7" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1711" VIM_COMMAND="vim"
    - GO_VERSION="go1.13beta1" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1711" VIM_COMMAND="vim"
    - GO_VERSION="go1.12.7" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1711" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.13beta1" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1711" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.12.7" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1657" VIM_COMMAND="vim"
    - GO_VERSION="go1.13beta1" VIM_FLAVOR="vim" VIM_VERSION="v8.1.1657" VIM_COMMAND="vim"
    - GO_VERSION="go1.12.7" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1657" VIM_COMMAND="xvfb-run -a gvim -f"
    - GO_VERSION="go1.13beta1" VIM_FLAVOR="gvim" VIM_VERSION="v8.1.1657" VIM_COMMAND="xvfb-run -a gvim -f"

# Add this before_install until we have a definitive resolution on
# https://travis-ci.community/t/files-in-checkout-have-eol-changed-from-lf-to-crlf/349/2
before_install:
  - cd ../..
  - mv $TRAVIS_REPO_SLUG _old
  - git config --global core.autocrlf false
  - git clone --depth=50 _old $TRAVIS_REPO_SLUG
  - cd $TRAVIS_REPO_SLUG

before_install:
  - docker --version
  - ./_scripts/buildGovimImage.sh

script:
  - ./_scripts/runDockerRun.sh
